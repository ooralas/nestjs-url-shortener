{"openapi":"3.0.0","paths":{"/links":{"post":{"operationId":"LinkController_create","summary":"Create a new link","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateLinkDto"}}}},"responses":{"201":{"description":"The link has been successfully created."},"400":{"description":"Invalid input data."}},"tags":["links"]},"get":{"operationId":"LinkController_findAll","summary":"Retrieve all links","parameters":[],"responses":{"200":{"description":"Successfully retrieved links.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Link"}}}}}},"tags":["links"]}},"/links/{alias}":{"get":{"operationId":"LinkController_findOne","summary":"Retrieve a link by alias","parameters":[{"name":"alias","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully retrieved link."},"404":{"description":"Link not found."}},"tags":["links"]}},"/links/{id}":{"patch":{"operationId":"LinkController_update","summary":"Update a link","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateLinkDto"}}}},"responses":{"200":{"description":"The link has been successfully updated."},"404":{"description":"Link not found."}},"tags":["links"]},"delete":{"operationId":"LinkController_remove","summary":"Delete a link","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"The link has been successfully deleted."},"404":{"description":"Link not found."}},"tags":["links"]}},"/health/app":{"get":{"operationId":"HealthController_checkApp","summary":"Check application health","parameters":[],"responses":{"200":{"description":"The Health Check is successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"ok"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"error":{"type":"object","example":{},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true}}}}}}},"503":{"description":"The Health Check is not successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"error"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"error":{"type":"object","example":{"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"},"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true}}}}}}}},"tags":["health"]}},"/health/db":{"get":{"operationId":"HealthController_checkDb","summary":"Check database health","parameters":[],"responses":{"200":{"description":"The Health Check is successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"ok"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"error":{"type":"object","example":{},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true}}}}}}},"503":{"description":"The Health Check is not successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"error"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"error":{"type":"object","example":{"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"},"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true}}}}}}}},"tags":["health"]}}},"info":{"title":"NestJS URL Shortener","description":"A RESTful API for shortening URLs, developed with NestJS. This project includes user management, link tracking, and unique URL generation. It utilizes a relational database schema for efficient data handling.","version":"1.0","contact":{}},"tags":[],"servers":[{"url":"http://localhost:3000"}],"components":{"schemas":{"CreateLinkDto":{"type":"object","properties":{"longLink":{"type":"string","description":"The long URL to be shortened","example":"https://www.example.com/very/long/url/that/needs/shortening"},"alias":{"type":"string","description":"Custom alias for the shortened link (optional)","example":"my-custom-alias"}},"required":["longLink"]},"Link":{"type":"object","properties":{"id":{"type":"number"},"alias":{"type":"string"},"longLink":{"type":"string"},"views":{"type":"number"},"createdAt":{"type":"number"}},"required":["id","alias","longLink","views","createdAt"]},"UpdateLinkDto":{"type":"object","properties":{"id":{"type":"number","description":"The ID of the link","example":1},"alias":{"type":"string","description":"Optional alias for the link","example":"example-alias"},"longLink":{"type":"string","description":"The original long link that the alias will redirect to","example":"https://example.com"},"views":{"type":"number","description":"Number of views the link has received","example":100}},"required":["id","alias","longLink","views"]}}}}