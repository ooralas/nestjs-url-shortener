{"openapi":"3.0.0","paths":{"/links":{"post":{"operationId":"LinkController_create","summary":"Create a new link","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateLinkDto"}}}},"responses":{"201":{"description":"The link has been successfully created.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateLinkDto"}}}},"400":{"description":"Invalid input data."}},"tags":["links"]},"get":{"operationId":"LinkController_findAll","summary":"Retrieve all links.","parameters":[],"responses":{"200":{"description":"Successfully retrieved links.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Link"}}}}}},"tags":["links"]}},"/links/{alias}":{"get":{"operationId":"LinkController_findOne","summary":"Retrieve a link by alias","parameters":[{"name":"alias","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully retrieved link."},"404":{"description":"Link not found."}},"tags":["links"]}},"/links/{id}":{"patch":{"operationId":"LinkController_update","summary":"Update a link","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateLinkDto"}}}},"responses":{"200":{"description":"The link has been successfully updated."},"404":{"description":"Link not found."}},"tags":["links"]},"delete":{"operationId":"LinkController_remove","summary":"Delete a link","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"The link has been successfully deleted."},"404":{"description":"Link not found."}},"tags":["links"]}},"/user":{"post":{"operationId":"UserController_create","summary":"Create a new user","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserDto"}}}},"responses":{"201":{"description":"The user has been successfully created."},"400":{"description":"Invalid input data."}},"tags":["user"]},"get":{"operationId":"UserController_findAll","summary":"Retrieve all users.","parameters":[{"name":"includeLinks","required":true,"in":"query","schema":{"type":"boolean"}}],"responses":{"200":{"description":"Successfully retrieved users.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/User"}}}}}},"tags":["user"]}},"/user/{id}":{"get":{"operationId":"UserController_findOne","summary":"Retrieve an user by id","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"includeLinks","required":true,"in":"query","schema":{"type":"boolean"}}],"responses":{"200":{"description":"Successfully retrieved user."},"404":{"description":"User not found."}},"tags":["user"]},"patch":{"operationId":"UserController_update","summary":"Update an user by id","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDto"}}}},"responses":{"200":{"description":"User updated successfully"},"404":{"description":"User not found."}},"tags":["user"]},"delete":{"operationId":"UserController_remove","summary":"Delete an user","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"The user has been successfully deleted."},"404":{"description":"User not found."}},"tags":["user"]}},"/health/app":{"get":{"operationId":"HealthController_checkApp","summary":"Check application health","parameters":[],"responses":{"200":{"description":"The Health Check is successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"ok"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"error":{"type":"object","example":{},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true}}}}}}},"503":{"description":"The Health Check is not successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"error"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"error":{"type":"object","example":{"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"},"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true}}}}}}}},"tags":["health"]}},"/health/db":{"get":{"operationId":"HealthController_checkDb","summary":"Check database health","parameters":[],"responses":{"200":{"description":"The Health Check is successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"ok"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"error":{"type":"object","example":{},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true}}}}}}},"503":{"description":"The Health Check is not successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"error"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"error":{"type":"object","example":{"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"},"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","required":["status"],"properties":{"status":{"type":"string"}},"additionalProperties":true}}}}}}}},"tags":["health"]}},"/cache/reset":{"delete":{"operationId":"CacheController_restCache","summary":"Clear cache completely","parameters":[],"responses":{"200":{"description":"Cache has been cleared"}},"tags":["cache"]}},"/auth/signup":{"post":{"operationId":"AuthController_signup","summary":"Sign up a user using provided user data","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignupDataDTO"}}}},"responses":{"201":{"description":""}},"tags":["auth"]}},"/auth/signin":{"post":{"operationId":"AuthController_signin","summary":"User Sign in using provided user data","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SigninDataDTO"}}}},"responses":{"201":{"description":""}},"tags":["auth"]}}},"info":{"title":"NestJS URL Shortener","description":"A RESTful API for shortening URLs, developed with NestJS. This project includes user management, link tracking, and unique URL generation. It utilizes a relational database schema for efficient data handling.","version":"1.0","contact":{}},"tags":[],"servers":[{"url":"http://localhost:3000"}],"components":{"schemas":{"CreateLinkDto":{"type":"object","properties":{"longLink":{"type":"string","description":"The long URL to be shortened","example":"https://www.example.com/very/long/url/that/needs/shortening"},"alias":{"type":"string","description":"Custom alias for the shortened link (optional)","example":"my-custom-alias"},"userId":{"type":"string","description":"Id of the user, who want to create a short url","example":"sadasd-asdasd-asdas-dsadsad"}},"required":["longLink","userId"]},"Link":{"type":"object","properties":{"id":{"type":"number"},"alias":{"type":"string"},"longLink":{"type":"string"},"views":{"type":"number"},"createdAt":{"type":"number"}},"required":["id","alias","longLink","views","createdAt"]},"UpdateLinkDto":{"type":"object","properties":{"alias":{"type":"string","description":"Optional alias for the link","example":"example-alias"},"longLink":{"type":"string","description":"The original long link that the alias will redirect to","example":"https://example.com"}},"required":["alias","longLink"]},"CreateUserDto":{"type":"object","properties":{"email":{"type":"string","description":"Email address of the user","example":"user@user.com"},"firstName":{"type":"string","description":"Firstname of the user","example":"John"},"lastName":{"type":"string","description":"Lasename of the user","example":"Doe"}},"required":["email","firstName","lastName"]},"User":{"type":"object","properties":{}},"UpdateUserDto":{"type":"object","properties":{"email":{"type":"string","description":"Email address of the user","example":"user@user.com"},"firstName":{"type":"string","description":"Firstname of the user","example":"John"},"lastName":{"type":"string","description":"Lasename of the user","example":"Doe"}}},"SignupDataDTO":{"type":"object","properties":{"email":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"password":{"type":"string"}},"required":["email","firstName","lastName","password"]},"SigninDataDTO":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}},"required":["email","password"]}}}}